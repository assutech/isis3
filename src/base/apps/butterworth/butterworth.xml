<?xml version="1.0" encoding="UTF-8"?>
<application name="butterworth" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">
  <brief>Apply Butterworth filter for cube in fft frequency domain</brief>
  <description>
      Applies a Butterworth filter to a cube. This filter is used
      on images in the frequency domain. Use the fft app to transform an 
      image from a spacial to frequency domain and use the ifft app to transform from frequency to spacial.
  </description>
  <category>
    <categoryItem>Filters</categoryItem>
  </category>
  <history>
    <change name="Jacob Danton" date="2005-11-28" >
        Original version
    </change>
    <change name="Brendan George" date="2006-09-21">
        Documentation fixes
    </change>
    <change name="Steven Lambright" date="2008-05-12">
          Removed references to CubeInfo 
    </change>
  </history> 

  <groups>
    <group name="Files">
      <parameter name="FROM">
        <type>cube</type>
        <brief>Input file</brief>
        <description> Cube to filter  </description>
        <fileMode>input</fileMode>
        <filter>*.cub</filter>
      </parameter>

      <parameter name="TO">
        <type>cube</type>
        <brief>Output cube</brief>
        <description> The resultant cube </description>
	    <fileMode>output</fileMode>
        <filter>*.cub</filter>
      </parameter>
    </group>
    
    <group name="Parameter Info">  
      <parameter name="CUTOFF">
        <type>double</type>
        <brief> Cutoff frequency </brief>
        <description> The specified cutoff frequency. </description>
	    <default><item>0.0</item></default>
        <minimum inclusive="yes">0.0</minimum>
      </parameter>

      <parameter name="ORDER">
        <type>integer</type>
        <brief> Order </brief>
        <description> The order of the Butterworth filter. </description>
	    <default><item>1</item></default>
        <minimum inclusive="yes">0</minimum>
      </parameter>

      <parameter name="BANDWIDTH">
        <type>double</type>
        <brief> The width of the cutoff band.</brief>
        <description> This parameter is used when the type specified is "bandpass" or "bandstop".</description>
	    <default><item>1.0</item></default>
        <minimum inclusive="yes">0.0</minimum>
      </parameter>
    </group>

    <group name="Filter Type">
      <parameter name="TYPE">
        <type>string</type>
        <default>
          <item>LOWPASS</item>
        </default>
        <brief>Type of filter</brief>
        <description>
          This is the type of filter to be performed on the input.
        </description>
        <list>
          <option value="LOWPASS">
            <brief>Lowpass filter</brief>
            <description>
                Applies a lowpass filter to an image in the frequency domain.
            </description>
          </option>
          <option value="HIGHPASS">
            <brief>Highpass filter</brief>
            <description>
                Applies a highpass filter to an image in the frequency domain.
            </description>
          </option>
          <option value="BANDPASS">
            <brief>Bandpass filter</brief>
            <description>
                Applies a bandpass filter to an image in the frequency domain.
            </description>
          </option>
          <option value="BANDSTOP">
            <brief>Bandstop filter</brief>
            <description>
                Applies a bandstop filter to an image in the frequency domain.
            </description>
          </option>
        </list>
      </parameter>
    </group>
  </groups>

  <examples>
    <example>
      <brief> 3x3 median filter </brief>
      <description>
        A 3x3 boxcar running of the median filter
      </description>
      <terminalInterface>
        <commandLine> mode from=peaks.cub to=peaksMedian1.cub samples=3 lines=3 </commandLine>
        <description> Runs a 3x3 mode filter on peaks.cub and stores the output in peaksMedian1.cub </description>
      </terminalInterface>
      <inputImages>
        <image  width="512" height="512" src="assets/images/peaks.jpg">
          <brief> Image before filtering </brief>
          <description>
            This is the original cube before any filters are applied.
          </description>
          <thumbnail caption="The image before filtering" width="128" height="128" src="assets/thumbs/peaks.jpg"/>
          <parameterName> FROM </parameterName>
        </image>
      </inputImages>
      <outputImages>
        <image  width="512" height="512" src="assets/images/peaksMedian1.jpg">
          <brief> Image after filtering </brief>
          <description>
            This is the cube after a 3x3 median filter is applied.
          </description>
          <thumbnail caption="The image after filtering" width="128" height="128" src="assets/thumbs/peaksMedian1.jpg"/>
          <parameterName> TO </parameterName>
        </image>
      </outputImages>
    </example>

    <example>
      <brief> 25x25 median filter </brief>
      <description>
        A 25x25 boxcar running of the median filter
      </description>
      <terminalInterface>
        <commandLine> mode from=peaks.cub to=peaksMedian2.cub samples=25 lines=25 </commandLine>
        <description> Runs a 25x25 filter on peaks.cub and stores the output in peaksMedian2.cub </description>
      </terminalInterface>
      <inputImages>
        <image  width="512" height="512" src="assets/images/peaks.jpg">
          <brief> Image before filtering </brief>
          <description>
            This is the original cube before any filters are applied.
          </description>
          <thumbnail caption="The image before filtering" width="128" height="128" src="assets/thumbs/peaks.jpg"/>
          <parameterName> FROM </parameterName>
        </image>
      </inputImages>
      <outputImages>
        <image  width="512" height="512" src="assets/images/peaksMedian2.jpg">
          <brief> Image before filtering </brief>
          <description>
            This is the cube after a 25x25 median filter is applied.
          </description>
          <thumbnail caption="The image before filtering" width="128" height="128" src="assets/thumbs/peaksMedian2.jpg"/>
          <parameterName> TO </parameterName>
        </image>
      </outputImages>
    </example>

  </examples>

</application>
